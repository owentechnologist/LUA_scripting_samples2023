### The following calls to LUA will populate thousands of records --all in the same slot as directed by the value inside of the curly braces that is passed to the scripts as the KEYS[1] value to be used  
### Change the key argument to {2} and re-execute both of the EVAL commands that follow to write to a second slot (using {1} and {2} ensures that if you have two primary shards, they will both be utilized See args for more shards here: https://github.com/owentechnologist/zewtopia_wrkshop_scripts/blob/master/SlotsAndShardingThoughts.md )

#### This first script creates a range of reusable values that are the sources for data generation in the script that later generates hashes:
#### Be certain to execute the script with varying values in the curly braces if you intend to have hashes live in different slots
#### {1} amd {2} should do nicely for most scenarios
-- EVAL "do redis.call('SADD','statuses'..KEYS[1],'cancelled','damaged','processing','placed','shipped','delivered') redis.call('SADD','productcats'..KEYS[1],'household','automotive','collectibles','crafts','decor','toys','bags','belts','wallets','hats','jewellry','scarves','sunglasses','lingerie','pants','skirts','cellphones','cameras','food','bath','medicine','vitamins','tools','supplies','furniture','gardening','kitchen','pets','rugs','linens','adult','orthotics','prosthetics','office','football','hunting','snowboarding','swimming','household') redis.call('SADD','charblocks'..KEYS[1],'abhoyzAOTVZ','WdefklmnVWX','YtrDhkiYcnB','LuGfeInUbvF','KlEEugRAAAA','lDDerSkGGFF','mndtRRewAAk','GGfsptrSrrS','EErfdjJvVVa','swqaNgfNMWW') redis.call('SADD','alpha'..KEYS[1],'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z') redis.call('SADD','year'..KEYS[1],'2022','2021','2020','2019','2018','2017','2016','2015','2014','2013','2012','2011','2010','2009','2008','2007','2006','2005') redis.call('SADD','month'..KEYS[1],'01','02','03','04','05','06','07','08','09','10','11','12') redis.call('SADD','day'..KEYS[1],'1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28') redis.call('SADD','colors'..KEYS[1],'blue','green','purple','orange','yellow','red','silver','gold','white','black','grey') end return 'done'" 1 {1}
-- EVAL "do redis.call('SADD','statuses'..KEYS[1],'cancelled','damaged','processing','placed','shipped','delivered') redis.call('SADD','productcats'..KEYS[1],'household','automotive','collectibles','crafts','decor','toys','bags','belts','wallets','hats','jewellry','scarves','sunglasses','lingerie','pants','skirts','cellphones','cameras','food','bath','medicine','vitamins','tools','supplies','furniture','gardening','kitchen','pets','rugs','linens','adult','orthotics','prosthetics','office','football','hunting','snowboarding','swimming','household') redis.call('SADD','charblocks'..KEYS[1],'abhoyzAOTVZ','WdefklmnVWX','YtrDhkiYcnB','LuGfeInUbvF','KlEEugRAAAA','lDDerSkGGFF','mndtRRewAAk','GGfsptrSrrS','EErfdjJvVVa','swqaNgfNMWW') redis.call('SADD','alpha'..KEYS[1],'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z') redis.call('SADD','year'..KEYS[1],'2022','2021','2020','2019','2018','2017','2016','2015','2014','2013','2012','2011','2010','2009','2008','2007','2006','2005') redis.call('SADD','month'..KEYS[1],'01','02','03','04','05','06','07','08','09','10','11','12') redis.call('SADD','day'..KEYS[1],'1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28') redis.call('SADD','colors'..KEYS[1],'blue','green','purple','orange','yellow','red','silver','gold','white','black','grey') end return 'done'" 1 {2}

```
EVAL "do redis.call('SADD','statuses'..KEYS[1],'cancelled','damaged','processing','placed','shipped','delivered') redis.call('SADD','productcats'..KEYS[1],'household','automotive','collectibles','crafts','decor','toys','bags','belts','wallets','hats','jewellry','scarves','sunglasses','lingerie','pants','skirts','cellphones','cameras','food','bath','medicine','vitamins','tools','supplies','furniture','gardening','kitchen','pets','rugs','linens','adult','orthotics','prosthetics','office','football','hunting','snowboarding','swimming','household') redis.call('SADD','charblocks'..KEYS[1],'abhoyzAOTVZ','WdefklmnVWX','YtrDhkiYcnB','LuGfeInUbvF','KlEEugRAAAA','lDDerSkGGFF','mndtRRewAAk','GGfsptrSrrS','EErfdjJvVVa','swqaNgfNMWW') redis.call('SADD','alpha'..KEYS[1],'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z') redis.call('SADD','year'..KEYS[1],'2022','2021','2020','2019','2018','2017','2016','2015','2014','2013','2012','2011','2010','2009','2008','2007','2006','2005') redis.call('SADD','month'..KEYS[1],'01','02','03','04','05','06','07','08','09','10','11','12') redis.call('SADD', 'roadway' .. KEYS[1], 'Street', 'Lane', 'Avenue', 'Way', 'Road', 'Path', 'Walk', 'Boulevard', 'Drive', 'Highway', 'Alley', 'Crescent', 'Court', 'Terrace', 'Expressway', 'Freeway', 'Turnpike', 'Byway', 'Parkway', 'Route', 'Motorway', 'Thoroughfare', 'Promenade', 'Artery', 'Trace', 'Rue', 'Esplanade', 'Cul-de-sac', 'Mews', 'Frontage', 'Passage', 'Row', 'Viaduct', 'Pike', 'Pass', 'Quay', 'Crossing', 'Bridge', 'Causeway', 'Circuit', 'Track', 'Loop', 'Grove', 'Junction') redis.call('SADD', 'states' .. KEYS[1], 'AL', 'AK', 'AZ', 'AR', 'CA', 'CO', 'CT', 'DE', 'FL', 'GA', 'HI', 'ID', 'IL', 'IN', 'IA', 'KS', 'KY', 'LA', 'ME', 'MD', 'MA', 'MI', 'MN', 'MS', 'MO', 'MT', 'NE', 'NV', 'NH', 'NJ', 'NM', 'NY', 'NC', 'ND', 'OH', 'OK', 'OR', 'PA', 'RI', 'SC', 'SD', 'TN', 'TX', 'UT', 'VT', 'VA', 'WA', 'WV', 'WI', 'WY') redis.call('SADD','zipcodes'..KEYS[1],'35005','35401','36104','99501','99654','99701','85001','85701','86401','71601','72201','72901','90001','91301','94002','80001','80201','81601','06001','06405','06901','19701','19801','19901','32003','33122','34201','30002','30303','31901','96701','96813','96740','83201','83616','83814','60002','60601','61801','46001','46901','47701','50001','50301','52801','66002','67201','67801','40003','40324','41001','70001','70112','71101','04002','04101','04210','20601','20706','21201','01001','01501','01801','48001','48103','48601','55001','55401','55801','38601','39201','39501','63005','63101','64101','59001','59101','59701','68001','68101','68801','89001','89406','89801','03031','03101','03801','07001','07101','07701','87001','87101','87501','10001','10451','11201','27006','27501','28201','58001','58102','58801','43001','43201','44101','73001','73102','74101','97002','97201','97801','15001','15106','15201','02801','02901','02908','29001','29401','29501','57001','57103','57701','37010','37201','38103','75001','75201','77001','84001','84101','84601','05001','05401','05602','20105','22003','22901','98001','98101','99201','24701','24801','25401','53001','53201','53701','82001','82201','82601') redis.call('SADD', 'placeprefixes' .. KEYS[1], 'New', 'Old', 'North', 'South', 'East', 'West', 'Upper', 'Lower', 'Grand', 'Port', 'Fort', 'Saint', 'Mount', 'Lake', 'Spring', 'Silver', 'Red', 'Green', 'Blue', 'Golden', 'White', 'Black', 'Rose', 'Maple', 'Oak', 'Palm', 'Cedar', 'River', 'Bay', 'Ocean', 'Gulf', 'Valley', 'Meadow', 'Hill', 'Beach', 'Canyon', 'Desert', 'Prairie', 'Mesa', 'Island', 'Harbor', 'Cove', 'Haven', 'Point', 'Ridge', 'Crest', 'View', 'Vista', 'Park', 'Garden') redis.call('SADD','day'..KEYS[1],'1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28') redis.call('SADD', 'townsynonyms' .. KEYS[1], 'City', 'Town', 'Village', 'Hamlet', 'Borough', 'Municipality', 'County', 'Settlement', 'Township') redis.call('SADD','lnames'..KEYS[1],'Taylor','Chu','Smith','Johnson','Williams','Jones','Brown','Davis','Miller','Wilson','Moore','Anderson','Thomas','Jackson','White','Harris','Martin','Thompson','Garcia','Martinez','Robinson','Clark','Rodriguez','Lewis','Lee','Walker','Hall','Allen','Young','Hernandez','King','Wright','Lopez','Hill','Scott','Green','Adams','Baker','Gonzalez','Nelson','Carter','Mitchell','Perez','Roberts','Fong','Kim','Lee','Nguyen','Tran','Wong','Li','Singh','Patel') redis.call('SADD','fnames'..KEYS[1],'Owen','Xi','Liam','Noah','William','James','Benjamin','Lucas','Henry','Alexander','Jackson','Daniel','Matthew','Elijah','Oliver','Jacob','Michael','Aiden','Ethan','Joseph','Samuel','David','Daniel','Ryan','Nathan','Andrew','Jonathan','Christopher','Isaac','Caleb','Gabriel','Joshua','Evan','Tyler','Brandon','Kevin','Connor','Jason','Justin','Aaron','Emma','Olivia','Ava','Isabella','Sophia','Mia','Charlotte','Amelia','Harper','Evelyn','Abigail','Emily','Elizabeth','Sofia','Grace','Chloe','Lily','Hannah','Avery','Samantha','Addison','Natalie','Zoe','Penelope','Victoria','Layla','Mila','Scarlett','Aria','Riley','Aurora','Leah','Savannah','Audrey','Allison','Maya','Brooklyn','Claire','Lucy') redis.call('SADD','colors'..KEYS[1],'blue','green','purple','orange','yellow','red','silver','gold','white','black','grey') end return 'done'" 1 {1}
EVAL "do redis.call('SADD','statuses'..KEYS[1],'cancelled','damaged','processing','placed','shipped','delivered') redis.call('SADD','productcats'..KEYS[1],'household','automotive','collectibles','crafts','decor','toys','bags','belts','wallets','hats','jewellry','scarves','sunglasses','lingerie','pants','skirts','cellphones','cameras','food','bath','medicine','vitamins','tools','supplies','furniture','gardening','kitchen','pets','rugs','linens','adult','orthotics','prosthetics','office','football','hunting','snowboarding','swimming','household') redis.call('SADD','charblocks'..KEYS[1],'abhoyzAOTVZ','WdefklmnVWX','YtrDhkiYcnB','LuGfeInUbvF','KlEEugRAAAA','lDDerSkGGFF','mndtRRewAAk','GGfsptrSrrS','EErfdjJvVVa','swqaNgfNMWW') redis.call('SADD','alpha'..KEYS[1],'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z') redis.call('SADD','year'..KEYS[1],'2022','2021','2020','2019','2018','2017','2016','2015','2014','2013','2012','2011','2010','2009','2008','2007','2006','2005') redis.call('SADD','month'..KEYS[1],'01','02','03','04','05','06','07','08','09','10','11','12') redis.call('SADD', 'roadway' .. KEYS[1], 'Street', 'Lane', 'Avenue', 'Way', 'Road', 'Path', 'Walk', 'Boulevard', 'Drive', 'Highway', 'Alley', 'Crescent', 'Court', 'Terrace', 'Expressway', 'Freeway', 'Turnpike', 'Byway', 'Parkway', 'Route', 'Motorway', 'Thoroughfare', 'Promenade', 'Artery', 'Trace', 'Rue', 'Esplanade', 'Cul-de-sac', 'Mews', 'Frontage', 'Passage', 'Row', 'Viaduct', 'Pike', 'Pass', 'Quay', 'Crossing', 'Bridge', 'Causeway', 'Circuit', 'Track', 'Loop', 'Grove', 'Junction') redis.call('SADD', 'states' .. KEYS[1], 'AL', 'AK', 'AZ', 'AR', 'CA', 'CO', 'CT', 'DE', 'FL', 'GA', 'HI', 'ID', 'IL', 'IN', 'IA', 'KS', 'KY', 'LA', 'ME', 'MD', 'MA', 'MI', 'MN', 'MS', 'MO', 'MT', 'NE', 'NV', 'NH', 'NJ', 'NM', 'NY', 'NC', 'ND', 'OH', 'OK', 'OR', 'PA', 'RI', 'SC', 'SD', 'TN', 'TX', 'UT', 'VT', 'VA', 'WA', 'WV', 'WI', 'WY') redis.call('SADD','zipcodes'..KEYS[1],'35005','35401','36104','99501','99654','99701','85001','85701','86401','71601','72201','72901','90001','91301','94002','80001','80201','81601','06001','06405','06901','19701','19801','19901','32003','33122','34201','30002','30303','31901','96701','96813','96740','83201','83616','83814','60002','60601','61801','46001','46901','47701','50001','50301','52801','66002','67201','67801','40003','40324','41001','70001','70112','71101','04002','04101','04210','20601','20706','21201','01001','01501','01801','48001','48103','48601','55001','55401','55801','38601','39201','39501','63005','63101','64101','59001','59101','59701','68001','68101','68801','89001','89406','89801','03031','03101','03801','07001','07101','07701','87001','87101','87501','10001','10451','11201','27006','27501','28201','58001','58102','58801','43001','43201','44101','73001','73102','74101','97002','97201','97801','15001','15106','15201','02801','02901','02908','29001','29401','29501','57001','57103','57701','37010','37201','38103','75001','75201','77001','84001','84101','84601','05001','05401','05602','20105','22003','22901','98001','98101','99201','24701','24801','25401','53001','53201','53701','82001','82201','82601') redis.call('SADD', 'placeprefixes' .. KEYS[1], 'New', 'Old', 'North', 'South', 'East', 'West', 'Upper', 'Lower', 'Grand', 'Port', 'Fort', 'Saint', 'Mount', 'Lake', 'Spring', 'Silver', 'Red', 'Green', 'Blue', 'Golden', 'White', 'Black', 'Rose', 'Maple', 'Oak', 'Palm', 'Cedar', 'River', 'Bay', 'Ocean', 'Gulf', 'Valley', 'Meadow', 'Hill', 'Beach', 'Canyon', 'Desert', 'Prairie', 'Mesa', 'Island', 'Harbor', 'Cove', 'Haven', 'Point', 'Ridge', 'Crest', 'View', 'Vista', 'Park', 'Garden') redis.call('SADD','day'..KEYS[1],'1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28') redis.call('SADD', 'townsynonyms' .. KEYS[1], 'City', 'Town', 'Village', 'Hamlet', 'Borough', 'Municipality', 'County', 'Settlement', 'Township') redis.call('SADD','lnames'..KEYS[1],'Taylor','Chu','Smith','Johnson','Williams','Jones','Brown','Davis','Miller','Wilson','Moore','Anderson','Thomas','Jackson','White','Harris','Martin','Thompson','Garcia','Martinez','Robinson','Clark','Rodriguez','Lewis','Lee','Walker','Hall','Allen','Young','Hernandez','King','Wright','Lopez','Hill','Scott','Green','Adams','Baker','Gonzalez','Nelson','Carter','Mitchell','Perez','Roberts','Fong','Kim','Lee','Nguyen','Tran','Wong','Li','Singh','Patel') redis.call('SADD','fnames'..KEYS[1],'Owen','Xi','Liam','Noah','William','James','Benjamin','Lucas','Henry','Alexander','Jackson','Daniel','Matthew','Elijah','Oliver','Jacob','Michael','Aiden','Ethan','Joseph','Samuel','David','Daniel','Ryan','Nathan','Andrew','Jonathan','Christopher','Isaac','Caleb','Gabriel','Joshua','Evan','Tyler','Brandon','Kevin','Connor','Jason','Justin','Aaron','Emma','Olivia','Ava','Isabella','Sophia','Mia','Charlotte','Amelia','Harper','Evelyn','Abigail','Emily','Elizabeth','Sofia','Grace','Chloe','Lily','Hannah','Avery','Samantha','Addison','Natalie','Zoe','Penelope','Victoria','Layla','Mila','Scarlett','Aria','Riley','Aurora','Leah','Savannah','Audrey','Allison','Maya','Brooklyn','Claire','Lucy') redis.call('SADD','colors'..KEYS[1],'blue','green','purple','orange','yellow','red','silver','gold','white','black','grey') end return 'done'" 1 {2}
```
#### The following LUA script uses the above SETS to generate Hashes: up to 250 thousand can be easily generated (after that the LUA can timeout)
#### to create more - adjust the arguments to start and finish at different index values (example: 250000 500000)

```
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {1} ordersPA 1 250001
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {2} ordersPA 1 250001
```
### The following LUA generates JSON objects representing Customers with their Addresses:

```
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {1} 1 25000
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {2} 1 25000
```

#### The following creates a search index for the Orders: (adjust the prefix as fits your dataset)

```
FT.CREATE idx_paorders PREFIX 1 "h:order" ON HASH SCHEMA custid TAG category TAG status TAG color TAG price NUMERIC SORTABLE quantity NUMERIC SORTABLE builddate TAG timestamp NUMERIC SORTABLE
```

#### The following creates a search index for the Customers: (Customers all have the prefix j:customer*)

```
FT.CREATE idx_pacustomers PREFIX 1 "j:customer" ON JSON SCHEMA $.custid AS CUSTOMERID TAG $.fname AS FIRSTNAME TAG $.lname AS LASTNAME TAG $.Gender AS GENDER TAG $.addresses[*].StreetName AS StreetName TAG $.addresses[*].HouseNumber AS HouseNumber TAG   
```

#### FT.INFO can be useful to monitor progress of Search Index:
``` 
FT.INFO idx_paorders
```
#### the following are some sample queries: First for Orders...

``` 
FT.AGGREGATE idx_paorders "@timestamp:[-inf,1686104900] -@status:{cancelled}"  groupby 0 reduce count 0 as total_quantity_not_cancelled
```

```
FT.AGGREGATE idx_paorders "@timestamp:[-inf,1686004900] -@status:{cancelled}" groupby 0 reduce count 0 as total
```

```
FT.AGGREGATE idx_paorders "@timestamp:[-inf,1686004900] -@status:{cancelled}" groupby 1 @status reduce count 0 as total
```

```
FT.AGGREGATE idx_paorders "@timestamp:[-inf,1686004900] @status:{shipped}" groupby 0 reduce count 0 as total
```

``` 
FT.AGGREGATE idx_paorders "@timestamp:[-inf,1686004900] @color:{silver_K}"  groupby 2 @status @quantity reduce SUM 1 quantity as  total_quantity_by_LOT_AND_status
```

```
FT.AGGREGATE idx_paorders "@timestamp:[-inf,1686004900] -@status:{delivered}" groupby 1 @color reduce count 0 as total
```

#### This allows the observer to see inside the engine a bit:
```
FT.PROFILE idx_paorders AGGREGATE QUERY "@timestamp:[-inf,1686004900] -@status:{cancelled}" groupby 1 @color reduce count 0 as total
```

### Here are queries for Customers:
``` 
FT.AGGREGATE idx_pacustomers "@LASTNAME:{Brown | Johnson | WilliamSONFRON}" GROUPBY 1 @LASTNAME REDUCE COUNT 0 AS QUANTITY_FOUND
```

```
FT.SEARCH idx_pacustomers "@StreetName:{Valley Samantha Expressway | WilliamSONFRON}" return 1 @StreetName LIMIT 0 1
```

``` 
FT.SEARCH idx_pacustomers "@StreetName:{Valley*}" return 1 StreetName LIMIT 0 2 dialect 2
```

This search returns the count of customers found with shared Street Names: 
``` 
FT.AGGREGATE idx_pacustomers "*" GROUPBY 1 @StreetName REDUCE COUNT 0 AS QUANTITY_FOUND FILTER "@QUANTITY_FOUND > 2"
```

Here is a variant with a SORTBY DESC added:
``` 
FT.AGGREGATE idx_pacustomers "*" GROUPBY 1 @StreetName REDUCE COUNT 0 AS QUANTITY_FOUND FILTER "@QUANTITY_FOUND > 2" SORTBY 2 @QUANTITY_FOUND DESC LIMIT 0 20
```

#### This next version works with Search 2.6 and JSON 2.4 and returns all the elements in the selected indexed attribute:
``` 
FT.SEARCH idx_pacustomers "@StreetName:{Valley*}" return 1 StreetName LIMIT 0 2 dialect 3

```
****
#### These sample queries are for when ODBC or JDBC SQL drivers are used on top of the search index:
``` 
SELECT count(status) as total_quantity_for_status,status from idx_paorders where status NOT LIKE 'cancelled%' and timestamp < 1685470009 group by status;
```
``` 
SELECT count(status) as total_quantity_for_status,status from idx_paorders where status NOT LIKE 'cancelled%' and timestamp < 1685404900 group by status;
```
``` 
SELECT count(*) howmany from idx_paorders;
```

## Large scale testing thoughts: 
****
#### This next command is for Redis Enterprise and upgrades a database with the named search and json modules.  It also enables the use of configuration settings for TIMEOUT and such:
``` 
rladmin> upgrade module db_name db:44 module_name ReJSON version 20405 module_args "" module_name search version 20609 module_args "PARTITIONS AUTO MAXPREFIXEXPANSIONS 9000000000000000000 TIMEOUT 120000 ON_TIMEOUT FAIL"
```
and this one enables sparse placement policy and then moves a shard -so that you can use memory on multiple nodes:
```
rladmin> placement db db:40 sparse
rladmin> migrate shard 115 target_node 2
```

The following is a series of commands designed to be written to a file that is then passed to redis-cli so the user doesn't have to manually adjust the scripts to populate ~6 million keys. (4 million orders and 2 million customers)
!!Make certain there are no search indexes in the DB at the time you attempt to load using LUA
NB: you will need a redis DB with > 6GB RAM available to load this many keys and the index.
``` 
ft.dropindex idx_pacustomers
ft.dropindex idx_paorders
dbsize
info memory
EVAL "do redis.call('SADD','statuses'..KEYS[1],'cancelled','damaged','processing','placed','shipped','delivered') redis.call('SADD','productcats'..KEYS[1],'household','automotive','collectibles','crafts','decor','toys','bags','belts','wallets','hats','jewellry','scarves','sunglasses','lingerie','pants','skirts','cellphones','cameras','food','bath','medicine','vitamins','tools','supplies','furniture','gardening','kitchen','pets','rugs','linens','adult','orthotics','prosthetics','office','football','hunting','snowboarding','swimming','household') redis.call('SADD','charblocks'..KEYS[1],'abhoyzAOTVZ','WdefklmnVWX','YtrDhkiYcnB','LuGfeInUbvF','KlEEugRAAAA','lDDerSkGGFF','mndtRRewAAk','GGfsptrSrrS','EErfdjJvVVa','swqaNgfNMWW') redis.call('SADD','alpha'..KEYS[1],'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z') redis.call('SADD','year'..KEYS[1],'2022','2021','2020','2019','2018','2017','2016','2015','2014','2013','2012','2011','2010','2009','2008','2007','2006','2005') redis.call('SADD','month'..KEYS[1],'01','02','03','04','05','06','07','08','09','10','11','12') redis.call('SADD', 'roadway' .. KEYS[1], 'Street', 'Lane', 'Avenue', 'Way', 'Road', 'Path', 'Walk', 'Boulevard', 'Drive', 'Highway', 'Alley', 'Crescent', 'Court', 'Terrace', 'Expressway', 'Freeway', 'Turnpike', 'Byway', 'Parkway', 'Route', 'Motorway', 'Thoroughfare', 'Promenade', 'Artery', 'Trace', 'Rue', 'Esplanade', 'Cul-de-sac', 'Mews', 'Frontage', 'Passage', 'Row', 'Viaduct', 'Pike', 'Pass', 'Quay', 'Crossing', 'Bridge', 'Causeway', 'Circuit', 'Track', 'Loop', 'Grove', 'Junction') redis.call('SADD', 'states' .. KEYS[1], 'AL', 'AK', 'AZ', 'AR', 'CA', 'CO', 'CT', 'DE', 'FL', 'GA', 'HI', 'ID', 'IL', 'IN', 'IA', 'KS', 'KY', 'LA', 'ME', 'MD', 'MA', 'MI', 'MN', 'MS', 'MO', 'MT', 'NE', 'NV', 'NH', 'NJ', 'NM', 'NY', 'NC', 'ND', 'OH', 'OK', 'OR', 'PA', 'RI', 'SC', 'SD', 'TN', 'TX', 'UT', 'VT', 'VA', 'WA', 'WV', 'WI', 'WY') redis.call('SADD','zipcodes'..KEYS[1],'35005','35401','36104','99501','99654','99701','85001','85701','86401','71601','72201','72901','90001','91301','94002','80001','80201','81601','06001','06405','06901','19701','19801','19901','32003','33122','34201','30002','30303','31901','96701','96813','96740','83201','83616','83814','60002','60601','61801','46001','46901','47701','50001','50301','52801','66002','67201','67801','40003','40324','41001','70001','70112','71101','04002','04101','04210','20601','20706','21201','01001','01501','01801','48001','48103','48601','55001','55401','55801','38601','39201','39501','63005','63101','64101','59001','59101','59701','68001','68101','68801','89001','89406','89801','03031','03101','03801','07001','07101','07701','87001','87101','87501','10001','10451','11201','27006','27501','28201','58001','58102','58801','43001','43201','44101','73001','73102','74101','97002','97201','97801','15001','15106','15201','02801','02901','02908','29001','29401','29501','57001','57103','57701','37010','37201','38103','75001','75201','77001','84001','84101','84601','05001','05401','05602','20105','22003','22901','98001','98101','99201','24701','24801','25401','53001','53201','53701','82001','82201','82601') redis.call('SADD', 'placeprefixes' .. KEYS[1], 'New', 'Old', 'North', 'South', 'East', 'West', 'Upper', 'Lower', 'Grand', 'Port', 'Fort', 'Saint', 'Mount', 'Lake', 'Spring', 'Silver', 'Red', 'Green', 'Blue', 'Golden', 'White', 'Black', 'Rose', 'Maple', 'Oak', 'Palm', 'Cedar', 'River', 'Bay', 'Ocean', 'Gulf', 'Valley', 'Meadow', 'Hill', 'Beach', 'Canyon', 'Desert', 'Prairie', 'Mesa', 'Island', 'Harbor', 'Cove', 'Haven', 'Point', 'Ridge', 'Crest', 'View', 'Vista', 'Park', 'Garden') redis.call('SADD','day'..KEYS[1],'1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28') redis.call('SADD', 'townsynonyms' .. KEYS[1], 'City', 'Town', 'Village', 'Hamlet', 'Borough', 'Municipality', 'County', 'Settlement', 'Township') redis.call('SADD','lnames'..KEYS[1],'Taylor','Chu','Smith','Johnson','Williams','Jones','Brown','Davis','Miller','Wilson','Moore','Anderson','Thomas','Jackson','White','Harris','Martin','Thompson','Garcia','Martinez','Robinson','Clark','Rodriguez','Lewis','Lee','Walker','Hall','Allen','Young','Hernandez','King','Wright','Lopez','Hill','Scott','Green','Adams','Baker','Gonzalez','Nelson','Carter','Mitchell','Perez','Roberts','Fong','Kim','Lee','Nguyen','Tran','Wong','Li','Singh','Patel') redis.call('SADD','fnames'..KEYS[1],'Owen','Xi','Liam','Noah','William','James','Benjamin','Lucas','Henry','Alexander','Jackson','Daniel','Matthew','Elijah','Oliver','Jacob','Michael','Aiden','Ethan','Joseph','Samuel','David','Daniel','Ryan','Nathan','Andrew','Jonathan','Christopher','Isaac','Caleb','Gabriel','Joshua','Evan','Tyler','Brandon','Kevin','Connor','Jason','Justin','Aaron','Emma','Olivia','Ava','Isabella','Sophia','Mia','Charlotte','Amelia','Harper','Evelyn','Abigail','Emily','Elizabeth','Sofia','Grace','Chloe','Lily','Hannah','Avery','Samantha','Addison','Natalie','Zoe','Penelope','Victoria','Layla','Mila','Scarlett','Aria','Riley','Aurora','Leah','Savannah','Audrey','Allison','Maya','Brooklyn','Claire','Lucy') redis.call('SADD','colors'..KEYS[1],'blue','green','purple','orange','yellow','red','silver','gold','white','black','grey') end return 'done'" 1 {1}
EVAL "do redis.call('SADD','statuses'..KEYS[1],'cancelled','damaged','processing','placed','shipped','delivered') redis.call('SADD','productcats'..KEYS[1],'household','automotive','collectibles','crafts','decor','toys','bags','belts','wallets','hats','jewellry','scarves','sunglasses','lingerie','pants','skirts','cellphones','cameras','food','bath','medicine','vitamins','tools','supplies','furniture','gardening','kitchen','pets','rugs','linens','adult','orthotics','prosthetics','office','football','hunting','snowboarding','swimming','household') redis.call('SADD','charblocks'..KEYS[1],'abhoyzAOTVZ','WdefklmnVWX','YtrDhkiYcnB','LuGfeInUbvF','KlEEugRAAAA','lDDerSkGGFF','mndtRRewAAk','GGfsptrSrrS','EErfdjJvVVa','swqaNgfNMWW') redis.call('SADD','alpha'..KEYS[1],'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z') redis.call('SADD','year'..KEYS[1],'2022','2021','2020','2019','2018','2017','2016','2015','2014','2013','2012','2011','2010','2009','2008','2007','2006','2005') redis.call('SADD','month'..KEYS[1],'01','02','03','04','05','06','07','08','09','10','11','12') redis.call('SADD', 'roadway' .. KEYS[1], 'Street', 'Lane', 'Avenue', 'Way', 'Road', 'Path', 'Walk', 'Boulevard', 'Drive', 'Highway', 'Alley', 'Crescent', 'Court', 'Terrace', 'Expressway', 'Freeway', 'Turnpike', 'Byway', 'Parkway', 'Route', 'Motorway', 'Thoroughfare', 'Promenade', 'Artery', 'Trace', 'Rue', 'Esplanade', 'Cul-de-sac', 'Mews', 'Frontage', 'Passage', 'Row', 'Viaduct', 'Pike', 'Pass', 'Quay', 'Crossing', 'Bridge', 'Causeway', 'Circuit', 'Track', 'Loop', 'Grove', 'Junction') redis.call('SADD', 'states' .. KEYS[1], 'AL', 'AK', 'AZ', 'AR', 'CA', 'CO', 'CT', 'DE', 'FL', 'GA', 'HI', 'ID', 'IL', 'IN', 'IA', 'KS', 'KY', 'LA', 'ME', 'MD', 'MA', 'MI', 'MN', 'MS', 'MO', 'MT', 'NE', 'NV', 'NH', 'NJ', 'NM', 'NY', 'NC', 'ND', 'OH', 'OK', 'OR', 'PA', 'RI', 'SC', 'SD', 'TN', 'TX', 'UT', 'VT', 'VA', 'WA', 'WV', 'WI', 'WY') redis.call('SADD','zipcodes'..KEYS[1],'35005','35401','36104','99501','99654','99701','85001','85701','86401','71601','72201','72901','90001','91301','94002','80001','80201','81601','06001','06405','06901','19701','19801','19901','32003','33122','34201','30002','30303','31901','96701','96813','96740','83201','83616','83814','60002','60601','61801','46001','46901','47701','50001','50301','52801','66002','67201','67801','40003','40324','41001','70001','70112','71101','04002','04101','04210','20601','20706','21201','01001','01501','01801','48001','48103','48601','55001','55401','55801','38601','39201','39501','63005','63101','64101','59001','59101','59701','68001','68101','68801','89001','89406','89801','03031','03101','03801','07001','07101','07701','87001','87101','87501','10001','10451','11201','27006','27501','28201','58001','58102','58801','43001','43201','44101','73001','73102','74101','97002','97201','97801','15001','15106','15201','02801','02901','02908','29001','29401','29501','57001','57103','57701','37010','37201','38103','75001','75201','77001','84001','84101','84601','05001','05401','05602','20105','22003','22901','98001','98101','99201','24701','24801','25401','53001','53201','53701','82001','82201','82601') redis.call('SADD', 'placeprefixes' .. KEYS[1], 'New', 'Old', 'North', 'South', 'East', 'West', 'Upper', 'Lower', 'Grand', 'Port', 'Fort', 'Saint', 'Mount', 'Lake', 'Spring', 'Silver', 'Red', 'Green', 'Blue', 'Golden', 'White', 'Black', 'Rose', 'Maple', 'Oak', 'Palm', 'Cedar', 'River', 'Bay', 'Ocean', 'Gulf', 'Valley', 'Meadow', 'Hill', 'Beach', 'Canyon', 'Desert', 'Prairie', 'Mesa', 'Island', 'Harbor', 'Cove', 'Haven', 'Point', 'Ridge', 'Crest', 'View', 'Vista', 'Park', 'Garden') redis.call('SADD','day'..KEYS[1],'1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28') redis.call('SADD', 'townsynonyms' .. KEYS[1], 'City', 'Town', 'Village', 'Hamlet', 'Borough', 'Municipality', 'County', 'Settlement', 'Township') redis.call('SADD','lnames'..KEYS[1],'Taylor','Chu','Smith','Johnson','Williams','Jones','Brown','Davis','Miller','Wilson','Moore','Anderson','Thomas','Jackson','White','Harris','Martin','Thompson','Garcia','Martinez','Robinson','Clark','Rodriguez','Lewis','Lee','Walker','Hall','Allen','Young','Hernandez','King','Wright','Lopez','Hill','Scott','Green','Adams','Baker','Gonzalez','Nelson','Carter','Mitchell','Perez','Roberts','Fong','Kim','Lee','Nguyen','Tran','Wong','Li','Singh','Patel') redis.call('SADD','fnames'..KEYS[1],'Owen','Xi','Liam','Noah','William','James','Benjamin','Lucas','Henry','Alexander','Jackson','Daniel','Matthew','Elijah','Oliver','Jacob','Michael','Aiden','Ethan','Joseph','Samuel','David','Daniel','Ryan','Nathan','Andrew','Jonathan','Christopher','Isaac','Caleb','Gabriel','Joshua','Evan','Tyler','Brandon','Kevin','Connor','Jason','Justin','Aaron','Emma','Olivia','Ava','Isabella','Sophia','Mia','Charlotte','Amelia','Harper','Evelyn','Abigail','Emily','Elizabeth','Sofia','Grace','Chloe','Lily','Hannah','Avery','Samantha','Addison','Natalie','Zoe','Penelope','Victoria','Layla','Mila','Scarlett','Aria','Riley','Aurora','Leah','Savannah','Audrey','Allison','Maya','Brooklyn','Claire','Lucy') redis.call('SADD','colors'..KEYS[1],'blue','green','purple','orange','yellow','red','silver','gold','white','black','grey') end return 'done'" 1 {2}
dbsize
info memory
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {1} ordersPA 1 250000
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {2} ordersPA 1 250000
dbsize
info memory
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {1} ordersPA 250001 500000
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {2} ordersPA 250001 500000
dbsize
info memory
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {1} ordersPA 500001 650000
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {2} ordersPA 500001 650000
dbsize
info memory
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {1} ordersPA 650001 750000
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {2} ordersPA 650001 750000
dbsize
info memory
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {1} ordersPA 750001 900000
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {2} ordersPA 750001 900000
dbsize
info memory
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {1} ordersPA 900001 1150000
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {2} ordersPA 900001 1150000
dbsize
info memory
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {1} ordersPA 1150001 1250000
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {2} ordersPA 1150001 1250000
dbsize
info memory
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {1} ordersPA 1250001 1400000
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {2} ordersPA 1250001 1400000
dbsize
info memory
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {1} ordersPA 1400001 1550000
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {2} ordersPA 1400001 1550000
dbsize
info memory
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {1} ordersPA 1550001 1700000
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {2} ordersPA 1550001 1700000
dbsize
info memory
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {1} ordersPA 1700001 1850000
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {2} ordersPA 1700001 1850000
dbsize
info memory
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {1} ordersPA 1850001 2000000
EVAL "for index=ARGV[2],ARGV[3] do local t=redis.call('time') redis.call('HSET','h:'..ARGV[1]..KEYS[1]..t[2]..'o'..index,'custid',(t[2]%1000)..'cid'..redis.call('SRANDMEMBER','charblocks'..KEYS[1])..(index%100000000),'orderid',redis.call('SRANDMEMBER','charblocks'..KEYS[1])..t[2]..'o'..index,'status',redis.call('SRANDMEMBER','statuses'..KEYS[1]),'category',redis.call('SRANDMEMBER','productcats'..KEYS[1]),'color',redis.call('SRANDMEMBER','colors'..KEYS[1])..'_'..redis.call('SRANDMEMBER','alpha'..KEYS[1]),'price',(5.25*redis.call('SRANDMEMBER','day'..KEYS[1])),'quantity',(5*redis.call('SRANDMEMBER','day'..KEYS[1])),'builddate',redis.call('SRANDMEMBER','year'..KEYS[1])..'\-'..redis.call('SRANDMEMBER','month'..KEYS[1])..'\-'.. string.format('%02x',redis.call('SRANDMEMBER','day'..KEYS[1])),'timestamp',t[1]-(1000 * (redis.call('SRANDMEMBER','day'..KEYS[1]) * redis.call('SRANDMEMBER','day'..KEYS[1])))) end return (ARGV[3]-ARGV[2])..' '..KEYS[1]..' routed orders loaded with ending value of: '..ARGV[3]" 1 {2} ordersPA 1850001 2000000
dbsize
info memory
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {1} 1 100000
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {2} 1 100000
dbsize
info memory
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {1} 100001 200000
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {2} 100001 200000
dbsize
info memory
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {1} 200001 300000
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {2} 200001 300000
dbsize
info memory
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {1} 300001 400000
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {2} 300001 400000
dbsize
info memory
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {1} 400001 500000
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {2} 400001 500000
dbsize
info memory
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {1} 500001 600000
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {2} 500001 600000
dbsize
info memory
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {1} 600001 700000
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {2} 600001 700000
dbsize
info memory
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {1} 700001 800000
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {2} 700001 800000
dbsize
info memory
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {1} 800001 900000
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {2} 800001 900000
dbsize
info memory
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {1} 900001 1000000
EVAL "for index=ARGV[1],ARGV[2] do local charblock=redis.call('SRANDMEMBER','charblocks'..KEYS[1]) local t=redis.call('time') redis.call('JSON.SET', 'j:customer:'..KEYS[1]..t[2]..'o'..charblock..index, '$', '{\"custid\": \"' ..(t[2]%1000)..'cid'..charblock..index..'\",\"fname\": \"'..redis.call('SRANDMEMBER','fnames'..KEYS[1])..'\",\"lname\": \"'..redis.call('SRANDMEMBER','lnames'..KEYS[1])..'\",\"Gender\": \"'..(index%3==0 and 'F' or 'M')..'\",\"addresses\": [{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%45)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"HouseNumber\": \"1'..(index%900)..redis.call('SRANDMEMBER','month'..KEYS[1])..'\", \"Unit or Apartment Number\": \"'..(index%50)..redis.call('SRANDMEMBER','alpha'..KEYS[1])..'\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"},{\"HouseNumber\": \"'..redis.call('SRANDMEMBER','day'..KEYS[1])..(index%1100)..'\",\"StreetName\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','fnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','roadway'..KEYS[1])..'\", \"Unit or Apartment Number\": \"None\",\"City\": \"'..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','placeprefixes'..KEYS[1])..' '..redis.call('SRANDMEMBER','lnames'..KEYS[1])..' '..redis.call('SRANDMEMBER','townsynonyms'..KEYS[1])..'\", \"State\": \"'..redis.call('SRANDMEMBER','states'..KEYS[1])..'\",\"Zip\": \"'..redis.call('SRANDMEMBER','zipcodes'..KEYS[1])..'\",\"Country\": \"USA\"}]}') end return 'done'" 1 {2} 900001 1000000
dbsize
info memory
FT.CREATE idx_paorders PREFIX 1 "h:order" ON HASH SCHEMA custid TAG category TAG status TAG color TAG price NUMERIC SORTABLE quantity NUMERIC SORTABLE builddate TAG timestamp NUMERIC SORTABLE
FT.CREATE idx_pacustomers PREFIX 1 "j:customer" ON JSON SCHEMA $.custid AS CUSTOMERID TAG $.fname AS FIRSTNAME TAG $.lname AS LASTNAME TAG $.Gender AS GENDER TAG $.addresses[*].StreetName AS StreetName TAG $.addresses[*].HouseNumber AS HouseNumber TAG   
```
Save the above code block to a plain text file named: 

do.redis
and then invoke redis-cli like this:
```
redis-cli -h <yourhost> -a <password> -p <port> < do.redis
```

Interesting little EVAL technique to see how many of a certain type of key exist:
```
EVAL "local x= redis.call('scan','0','MATCH','*','COUNT','5000000','type','ReJSON-RL') return #x[2]" 1 {1}
EVAL "local x= redis.call('scan','0','MATCH','*','COUNT','5000000','type','ReJSON-RL') return #x[2]" 1 {2}
EVAL "local x= redis.call('scan','0','MATCH','*','COUNT','5000000','type','HASH') return #x[2]" 1 {1}
EVAL "local x= redis.call('scan','0','MATCH','*','COUNT','5000000','type','HASH') return #x[2]" 1 {2}
SET mystring{1} bob
EVAL "local x= redis.call('scan','0','MATCH','*','COUNT','5000000','type','STRING') return #x[2]" 1 {1}
EVAL "local x= redis.call('scan','0','MATCH','*','COUNT','5000000','type','STRING') return #x[2]" 1 {2}
```
